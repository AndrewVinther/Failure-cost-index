
<!DOCTYPE html>
<html>
<head>
    <title>Failure Cost Index Calculator</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
    <h1>Failure Cost Index Calculator</h1>

    <div id="calculator"></div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
  apiKey: "AIzaSyAWjw0Z2dvJ1NoKfKKuY2cdb4cfTAdXXRs",
  authDomain: "failure-cost-index.firebaseapp.com",
  databaseURL: "https://failure-cost-index-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "failure-cost-index",
  storageBucket: "failure-cost-index.firebasestorage.app",
  messagingSenderId: "707480339831",
  appId: "1:707480339831:web:ffc8d8ed3fc9ce16ce4d72",
  measurementId: "G-X9LSQPTNGQ"
};
        };
        firebase.initializeApp(firebaseConfig);
        var db = firebase.database();

        const sectors = ["China", "USA", "Denmark", "Thailand", "Slovakia"];
        const container = document.getElementById("calculator");

        sectors.forEach(sector => {
            const section = document.createElement("div");
            section.innerHTML = `
                <h2>${sector}</h2>
                <label>Hourly Wage: <input type="number" id="${sector}-wage"></label><br>
                <label>Multiplying Factor: <input type="number" id="${sector}-factor"></label><br>
                <label>Workdays in Month: <input type="number" id="${sector}-days"></label><br>
                <strong>Failure Cost: <span id="${sector}-result">0</span></strong>
                <hr>
            `;
            container.appendChild(section);

            // Load saved data
            db.ref(sector).once("value").then(snapshot => {
                const data = snapshot.val();
                if (data) {
                    document.getElementById(`${sector}-wage`).value = data.wage;
                    document.getElementById(`${sector}-factor`).value = data.factor;
                    document.getElementById(`${sector}-days`).value = data.days;
                    calculate(sector);
                }
            });

            // Add event listeners
            ["wage", "factor", "days"].forEach(field => {
                document.getElementById(`${sector}-${field}`).addEventListener("input", () => {
                    calculate(sector);
                    saveData(sector);
                });
            });
        });

        function calculate(sector) {
            const wage = parseFloat(document.getElementById(`${sector}-wage`).value) || 0;
            const factor = parseFloat(document.getElementById(`${sector}-factor`).value) || 0;
            const days = parseFloat(document.getElementById(`${sector}-days`).value) || 1;
            const result = (wage * factor) / days;
            document.getElementById(`${sector}-result`).innerText = result.toFixed(2);
        }

        function saveData(sector) {
            const data = {
                wage: parseFloat(document.getElementById(`${sector}-wage`).value) || 0,
                factor: parseFloat(document.getElementById(`${sector}-factor`).value) || 0,
                days: parseFloat(document.getElementById(`${sector}-days`).value) || 1
            };
            db.ref(sector).set(data);
        }
    </script>
</body>
</html>
